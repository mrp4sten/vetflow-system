# Production Override
# Usage: docker compose -f docker-compose.yml -f docker-compose.prod.yml up --build

services:
  frontend:
    build:
      context: ../frontend
      dockerfile: Dockerfile  # Use production Dockerfile
    ports:
      - "80:80"  # Expose on port 80
    volumes: []  # Remove volume mounts for production
    environment:
      VITE_API_BASE_URL: ${VITE_API_BASE_URL:-http://localhost:8080/api/v1}

  api:
    environment:
      SPRING_PROFILES_ACTIVE: prod
      VETFLO_API_CORS_ALLOWED_ORIGINS: ${VETFLO_ALLOWED_ORIGINS:-http://localhost}
